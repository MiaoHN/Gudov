enable_testing()

add_executable(test log_test.cpp)
add_dependencies(test gudov)
force_redefine_file_macro_for_sources(test)
target_link_libraries(test gudov)
add_test(NAME test COMMAND test)

add_executable(config_test config_test.cpp)
add_dependencies(config_test gudov)
force_redefine_file_macro_for_sources(config_test)
target_link_libraries(config_test gudov)
add_test(NAME config_test COMMAND config_test)

add_executable(thread_test thread_test.cpp)
add_dependencies(thread_test gudov)
force_redefine_file_macro_for_sources(thread_test)
target_link_libraries(thread_test gudov)
add_test(NAME thread_test COMMAND thread_test)

add_executable(util_test util_test.cpp)
add_dependencies(util_test gudov)
force_redefine_file_macro_for_sources(util_test)
target_link_libraries(util_test gudov)
add_test(NAME util_test COMMAND util_test)

add_executable(scheduler_test scheduler_test.cpp)
add_dependencies(scheduler_test gudov)
force_redefine_file_macro_for_sources(scheduler_test)
target_link_libraries(scheduler_test gudov)
add_test(NAME scheduler_test_test COMMAND scheduler_test)

add_executable(fiber_test fiber_test.cpp)
add_dependencies(fiber_test gudov)
force_redefine_file_macro_for_sources(fiber_test)
target_link_libraries(fiber_test gudov)
add_test(NAME fiber_test_test COMMAND fiber_test)

add_executable(test_iomanager test_iomanager.cpp)
add_dependencies(test_iomanager gudov)
force_redefine_file_macro_for_sources(test_iomanager)
target_link_libraries(test_iomanager gudov)
add_test(NAME test_iomanager COMMAND test_iomanager)

add_executable(test_hook test_hook.cpp)
add_dependencies(test_hook gudov)
force_redefine_file_macro_for_sources(test_hook)
target_link_libraries(test_hook gudov)
add_test(NAME test_hook COMMAND test_hook)

add_executable(test_address test_address.cpp)
add_dependencies(test_address gudov)
force_redefine_file_macro_for_sources(test_address)
target_link_libraries(test_address gudov)
add_test(NAME test_address COMMAND test_address)